<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Making a barebone platformer with Löve - Part 1 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Löve is a nice framework for developing games in Lua. While it is somewhat limited compared to other frameworks, it makes it well suited for beginners. This article is written as an introduction to Lö">
<meta property="og:type" content="article">
<meta property="og:title" content="Making a barebone platformer with Löve - Part 1">
<meta property="og:url" content="http://yoursite.com/2017/06/19/Making-a-barebone-platformer-with-Löve/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Löve is a nice framework for developing games in Lua. While it is somewhat limited compared to other frameworks, it makes it well suited for beginners. This article is written as an introduction to Lö">
<meta property="og:updated_time" content="2017-06-19T13:11:28.733Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Making a barebone platformer with Löve - Part 1">
<meta name="twitter:description" content="Löve is a nice framework for developing games in Lua. While it is somewhat limited compared to other frameworks, it makes it well suited for beginners. This article is written as an introduction to Lö">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Making-a-barebone-platformer-with-Löve" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/19/Making-a-barebone-platformer-with-Löve/" class="article-date">
  <time datetime="2017-06-19T09:29:37.000Z" itemprop="datePublished">2017-06-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Making a barebone platformer with Löve - Part 1
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Löve</strong> is a nice framework for developing games in Lua. While it is somewhat limited compared to other frameworks, it makes it well suited for beginners. This article is written as an introduction to Löve. I’ll assume you understand the basics of programmation, such as variables, functions, and loops, but otherwise there’s no prior knowledge recquired. The Lua syntax is very simple, so you can learn as you go. For more details, go to the official <a href="https://www.lua.org/pil/1.html" target="_blank" rel="external">Lua website</a>.</p>
<p>Löve includes the physic engine <strong>Box2D</strong> by default. I challenged myself to create the basis for a simple platformer WITHOUT using Box2D. I mostly drew inspiration from <a href="http://gamemakertutorials.com/?p=383" target="_blank" rel="external">this tutorial</a>, which was written for GameMaker. However, it uses some concepts specifics to GameMaker, so there were some adjustments to make. </p>
<p>I wanted the final code to be as short as possible. I managed to make it under 150 lines, but I took some shortcuts and not everything is as structured as it should be. Feel free to send me suggestions on how to improve it.</p>
<h2 id="Installing-and-running-Love"><a href="#Installing-and-running-Love" class="headerlink" title="Installing and running Löve"></a>Installing and running Löve</h2><p>First, go to the <a href="https://love2d.org/" target="_blank" rel="external">Löve website</a> and download and install the last version of Löve. Make sure to create a shortcut to it on your desktop. Then, create an empty folder (name it whatever you want) and create an empty file called <em>main.lua</em> within this folder. If you want to make sure everything is set up correctly, copy and paste the following code into the main.lua file:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line">    love.graphics.<span class="built_in">print</span>(<span class="string">"Hello World!"</span>, <span class="number">400</span>, <span class="number">300</span>)</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Then, drag and drop your folder into the Löve icon on your desktop. If you did everything properly, a black window with “Hello World!” written in white should open.</p>
<h2 id="Drawing-the-level"><a href="#Drawing-the-level" class="headerlink" title="Drawing the level"></a>Drawing the level</h2><p>The first step in our tutorial is to draw some platforms on screen, as well as the player character. To begin with, we need to examine the structure of a Löve program. let’s copy and paste this code into the main.lua file:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.load</span><span class="params">()</span></span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.update</span><span class="params">(dt)</span></span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>These three functions are the core of a game wrote with Löve. Let’s examine them independantly:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.load</span><span class="params">()</span></span></div></pre></td></tr></table></figure>
<p><code>love.load</code> is the first function called when the game is launched. In other words, the code written between <code>function love.load</code> and <code>end</code> will be the first code to be executed. <code>love.load</code> is only executed once, and is mostly used for initializing values. For example, you could write <code>player.hp = 100</code> to initialize the player hit points to 100 when the game is launched.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.update</span><span class="params">(dt)</span></span></div><div class="line">``` </div><div class="line"></div><div class="line">`love.update` is called every frame <span class="keyword">while</span> the game is <span class="built_in">running</span>. For example, <span class="keyword">if</span> you wrote `player.hp = player.hp + <span class="number">1</span>` within this <span class="function"><span class="keyword">function</span>, <span class="title">then</span> <span class="title">the</span> <span class="title">player</span> <span class="title">would</span> <span class="title">regain</span> <span class="title">one</span> <span class="title">hit</span> <span class="title">point</span> <span class="title">every</span> <span class="title">frame</span>. <span class="title">The</span> `<span class="title">dt</span>` <span class="title">parameter</span> <span class="title">indicates</span> <span class="title">the</span> <span class="title">time</span> <span class="title">elapsed</span> <span class="title">between</span> <span class="title">the</span> <span class="title">current</span> <span class="title">and</span> <span class="title">the</span> <span class="title">previous</span> <span class="title">frame</span>, <span class="title">and</span> <span class="title">can</span> <span class="title">be</span> <span class="title">used</span> <span class="title">for</span> <span class="title">some</span> <span class="title">calculations</span> <span class="params">(though we won't use it in this tutorial)</span></span>.</div><div class="line"></div><div class="line">``` lua</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line">``` </div><div class="line"></div><div class="line">`love.draw` is also called every frame. It is used <span class="keyword">for</span>, you guessed it, drawing things to the screen. You<span class="string">'ve maybe noticed that in the "Hello World!" example, the code to actually draw the text to the screen was within the `love.draw` function. It wouldn'</span>t have worked <span class="keyword">if</span> it was within the `love.update` <span class="function"><span class="keyword">function</span>.</span></div><div class="line"></div><div class="line"><span class="title">Let</span>'<span class="title">s</span> <span class="title">get</span> <span class="title">started</span> <span class="title">by</span> <span class="title">defining</span> <span class="title">some</span> <span class="title">coordinates</span> <span class="title">for</span> <span class="title">our</span> <span class="title">platforms</span>. <span class="title">We</span>'<span class="title">ll</span> <span class="title">create</span> <span class="title">a</span> <span class="title">new</span> <span class="title">Lua</span> <span class="title">object</span> <span class="title">for</span> <span class="title">each</span> <span class="title">platform</span>. <span class="title">Like</span> <span class="title">this</span>:</div><div class="line"></div><div class="line">``` <span class="title">lua</span></div><div class="line"><span class="title">platform1</span> = &#123;<span class="title">x</span> = 500, <span class="title">y</span> = 500, <span class="title">w</span> = 50, <span class="title">h</span> = 30&#125;</div><div class="line">``` </div><div class="line"></div><div class="line"><span class="title">Here</span> <span class="title">I</span>'<span class="title">m</span> <span class="title">creating</span> <span class="title">an</span> <span class="title">object</span> <span class="title">called</span> `<span class="title">platform1</span>`. <span class="title">This</span> <span class="title">object</span> <span class="title">has</span> 4 <span class="title">parameters</span>: `<span class="title">x</span>`, `<span class="title">y</span>`, `<span class="title">w</span>`, `<span class="title">h</span>`. <span class="title">These</span> <span class="title">names</span> <span class="title">are</span> <span class="title">purely</span> <span class="title">arbitrary</span>, <span class="title">and</span> <span class="title">I</span> <span class="title">could</span> <span class="title">have</span> <span class="title">named</span> <span class="title">them</span> <span class="title">however</span> <span class="title">I</span> <span class="title">wanted</span>. <span class="title">Since</span> <span class="title">I</span> <span class="title">want</span> <span class="title">this</span> <span class="title">code</span> <span class="title">to</span> <span class="title">only</span> <span class="title">be</span> <span class="title">called</span> <span class="title">once</span> <span class="title">at</span> <span class="title">the</span> <span class="title">start</span> <span class="title">of</span> <span class="title">the</span> <span class="title">game</span>, <span class="title">I</span> <span class="title">put</span> <span class="title">it</span> <span class="title">in</span> `<span class="title">love.load</span>`:</div><div class="line"></div><div class="line">``` <span class="title">lua</span></div><div class="line"><span class="title">function</span> <span class="title">love.load</span><span class="params">()</span></div><div class="line"></div><div class="line">	platform1 = &#123;x = <span class="number">250</span>, y = <span class="number">500</span>, w = <span class="number">50</span>, h = <span class="number">30</span>&#125;</div><div class="line">	platform2 = &#123;x = <span class="number">500</span>, y = <span class="number">500</span>, w = <span class="number">50</span>, h = <span class="number">30</span>&#125; <span class="comment">-- Let's throw in a second platform while we're at it</span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Now I would like to draw these platforms to the screen. Luckily, Löve provides a function called <code>love.graphics.rectangle</code>, which can be called within the <code>love.draw</code> function, like this:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line"></div><div class="line">	love.graphics.rectangle(<span class="string">"fill"</span>, x, y, width, height )</div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p><code>&quot;fill&quot;</code> indicates that we want to draw a rectangle with a solid color. The rest is pretty straightforward: we just pass it the x and y coordinates where we want to draw the rectangle, as well as its width and its height. To draw our platforms, we can do something like this:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line"></div><div class="line">	love.graphics.rectangle(<span class="string">"fill"</span>, platform1.x, platform1.y, platform1.w, platform1.h)</div><div class="line">	love.graphics.rectangle(<span class="string">"fill"</span>, platform2.x, platform2.y, platform2.w, platform2.h)</div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Here’s the whole code so far. You can try to run it to see the result by yourself:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.load</span><span class="params">()</span></span></div><div class="line"></div><div class="line">	platform1 = &#123;x = <span class="number">250</span>, y = <span class="number">500</span>, w = <span class="number">50</span>, h = <span class="number">30</span>&#125;</div><div class="line">	platform2 = &#123;x = <span class="number">500</span>, y = <span class="number">500</span>, w = <span class="number">50</span>, h = <span class="number">30</span>&#125; </div><div class="line"></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.update</span><span class="params">(dt)</span></span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">love.draw</span><span class="params">()</span></span></div><div class="line"></div><div class="line">	love.graphics.rectangle(<span class="string">"fill"</span>, platform1.x, platform1.y, platform1.w, platform1.h)</div><div class="line">	love.graphics.rectangle(<span class="string">"fill"</span>, platform2.x, platform2.y, platform2.w, platform2.h)</div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/06/19/Making-a-barebone-platformer-with-Löve/" data-id="cj43yg4nh0000js49umudjcyj" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
    
  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/19/Making-a-barebone-platformer-with-Löve/">Making a barebone platformer with Löve - Part 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Olivier Grech<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>